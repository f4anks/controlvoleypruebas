<!DOCTYPE html><html lang="es"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title id="pT">Ficha Atleta</title><script src="https://cdn.tailwindcss.com"></script><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;900&display=swap" rel="stylesheet"><style>:root{--m:#001F3F;--e:#0074D9;--f:#f0f8ff}body{font-family:'Inter',sans-serif;background:var(--f)}.b-h{background-image:url('img/banner.png');background-size:cover;background-position:center;min-height:200px;width:100%}.m-c{background:#f7f9fb;border-left:4px solid var(--e)}</style></head><body><div class="b-h"></div><div class="container mx-auto p-4"><header class="mb-6 flex justify-between items-center border-b pb-4"><div class="flex items-center space-x-3"><a href="index_ficha.html" class="text-gray-500 hover:text-blue-600 transition"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"/></svg></a><h1 class="text-2xl font-black text-gray-800">Ficha: <span id="aNT" class="text-blue-600">...</span></h1></div><button onclick="logout()" class="py-1 px-4 bg-red-600 text-white rounded-lg text-sm font-bold shadow hover:bg-red-700 transition">Salir</button></header><div id="aDC" class="bg-white p-6 rounded-xl shadow-lg border border-gray-100"><p id="lM" class="text-center py-10 text-gray-400 italic">Validando credenciales...</p><div id="aD" class="hidden"><h2 class="text-lg font-bold mb-4 text-blue-900 border-b pb-2">Datos Personales</h2><div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-8 text-sm"><div><span class="font-semibold text-gray-500">Nombre Completo:</span> <span id="nAp" class="text-gray-900 block font-medium"></span></div><div><span class="font-semibold text-gray-500">Cédula de Identidad:</span> <span id="cI" class="text-gray-900 block font-medium"></span></div><div><span class="font-semibold text-gray-500">Teléfono Contacto:</span> <span id="tel" class="text-gray-900 block font-medium"></span></div><div><span class="font-semibold text-gray-500">Fecha de Nacimiento:</span> <span id="fNa" class="text-gray-900 block font-medium"></span></div><div><span class="font-semibold text-gray-500">Edad Actual:</span> <span id="eda" class="text-blue-700 font-bold block text-base"></span></div><div><span class="font-semibold text-gray-500">Categoría:</span> <span id="cat" class="text-blue-600 font-bold block text-base"></span></div><div><span class="font-semibold text-gray-500">Número Camiseta:</span> <span id="nCa" class="text-indigo-600 font-black text-xl block"></span></div></div><h2 class="text-lg font-bold mb-4 text-blue-900 border-b pb-2">Pagos y Métricas Físicas</h2><div class="grid grid-cols-2 lg:grid-cols-4 gap-4"><div class="m-c p-4 rounded-lg shadow-sm"><p class="text-xs text-gray-500 font-bold uppercase">Monto Nómina <span id="nomT"></span></p><p id="mPa" class="text-2xl font-black text-gray-800"></p></div><div class="m-c p-4 rounded-lg shadow-sm"><p class="text-xs text-gray-500 font-bold uppercase">Último Pago</p><p id="uPa" class="text-sm font-bold text-gray-800 mt-2"></p></div><div class="m-c p-4 rounded-lg shadow-sm"><p class="text-xs text-gray-500 font-bold uppercase mb-2">Solvencia</p><span id="sSt" class="text-xs font-bold px-3 py-1 rounded-full"></span></div><div class="m-c p-4 rounded-lg shadow-sm"><p class="text-xs text-gray-500 font-bold uppercase">IMC (Estado)</p><p id="imc" class="text-2xl font-black text-gray-800"></p><span id="iSt" class="text-[10px] font-bold px-2 py-0.5 rounded uppercase"></span></div><div class="m-c p-4 rounded-lg shadow-sm"><p class="text-xs text-gray-500 font-bold uppercase">Peso</p><p id="pes" class="text-2xl font-black text-gray-800"></p></div><div class="m-c p-4 rounded-lg shadow-sm"><p class="text-xs text-gray-500 font-bold uppercase">Talla Actual</p><p id="tal" class="text-2xl font-black text-gray-800"></p></div><div class="m-c p-4 rounded-lg shadow-sm bg-blue-50"><p class="text-xs text-blue-700 font-bold uppercase">Proyección Talla</p><p id="tPr" class="text-2xl font-black text-blue-800"></p><p class="text-[9px] text-blue-500 mt-1">*Estimado por categoría</p></div></div></div></div></div><script type="module">
import{initializeApp as _0x1}from"https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";import{getAuth as _0x2,onAuthStateChanged as _0x3,signOut as _0x4}from"https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";import{getFirestore as _0x5,doc as _0x6,getDoc as _0x7}from"https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";const _0x0=['\x63\x6c\x75\x62\x5f\x61\x74\x68\x6c\x65\x74\x65\x73','\x69\x6e\x64\x65\x78\x2e\x68\x74\x6d\x6c','\x71\x75\x69\x6e\x63\x65\x6e\x61\x6c'];const _0xa=i=>document.getElementById(i);const _0xb=i=>{const a=new Date(i),o=new Date();let s=o.getFullYear()-a.getFullYear();return(o.getMonth()<a.getMonth()||o.getMonth()===a.getMonth()&&o.getDate()<a.getDate())&&s--,s};const _0xc=i=>{const a=i(0),o=_0x1({apiKey:"AIzaSyB5RB7mm1j-0gjCNTUEJTkyEqLjyZ3C7ws",authDomain:"datacontrolvoley-ff556.firebaseapp.com",projectId:"datacontrolvoley-ff556",storageBucket:"datacontrolvoley-ff556.firebasestorage.app",messagingSenderId:"516409072606",appId:"1:516409072606:web:132538dba358a077d71b4f"}),s=_0x2(o),r=_0x5(o);_0x3(s,async(l)=>{const n=(new RegExp("[?&]id=([^&#]*)")).exec(window.location.search)?.[1]||"";if(l&&n){try{const h=await _0x7(_0x6(r,a,n));if(h.exists()){const c=h.data(),p={n:`${c.nombre||""} ${c.apellido||""}`,i:c.cedulaIdentidad||"N/A",t:c.telefono||"N/A",f:c.fechaNacimiento||null,k:c.categoria||"N/A",m:c.nroCamiseta??"-",w:parseFloat(c.peso)||0,h:parseFloat(c.talla)||0,q:c.frecuenciaPago||"mensual",u:c.fechaUltimoPago||null,z:c.montoPago||0},v=p.h/100,y=p.w>0&&v>0?p.w/(v*v):0;let g=0;p.h>0&&(JSON.stringify(['U9','U11']).includes(p.k)?g=15:p.k==='U13'?g=10:p.k==='U15'?g=6:p.k==='U19'&&(g=2));const x=p.h>0?(p.h+g)/100:0,b=p.u?((new Date-new Date(p.u))/864e5<=(p.q==='quincenal'?15:30)?{s:'Solvente',c:'bg-green-500 text-white'}:{s:'Insolvente',c:'bg-yellow-500 text-black'}):{s:'Insolvente',c:'bg-red-500 text-white'},S=y<=0?{t:'N/A',c:'bg-gray-200 text-gray-600'}:y<18.5?{t:'BAJO PESO',c:'bg-yellow-400 text-white'}:y<=24.9?{t:'NORMAL',c:'bg-green-500 text-white'}:y<=29.9?{t:'SOBREPESO',c:'bg-orange-500 text-white'}:{t:'OBESIDAD',c:'bg-red-600 text-white'};_0xa('aNT').innerText=p.n;_0xa('nAp').innerText=p.n;_0xa('cI').innerText=p.i;_0xa('tel').innerText=p.t;_0xa('fNa').innerText=p.f||'---';_0xa('eda').innerText=_0xb(p.f)+' años';_0xa('cat').innerText=p.k;_0xa('nCa').innerText=p.m;_0xa('mPa').innerText=parseFloat(p.z).toFixed(2)+'$';_0xa('uPa').innerText=p.u||'---';_0xa('sSt').innerText=b.s;_0xa('sSt').className+=' '+b.c;_0xa('pes').innerText=p.w+' kg';_0xa('tal').innerText=p.h+' cm';_0xa('imc').innerText=y.toFixed(2);_0xa('iSt').innerText=S.t;_0xa('iSt').className+=' '+S.c;_0xa('tPr').innerText=x.toFixed(2)+' m';_0xa('lM').classList.add('hidden');_0xa('aD').classList.remove('hidden')}else{_0xa('lM').innerText="Acceso Denegado"}}catch(e){console.error(e)}}else{window.location.href=_0x0[1]}});window.logout=()=>_0x4(s).then(()=>location.href=_0x0[1])};_0xc(i=>_0x0[i]);</script></body></html>
