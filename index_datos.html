<!DOCTYPE html><html lang="es"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title id="pT">Ficha Atleta</title><script src="https://cdn.tailwindcss.com"></script><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;900&display=swap" rel="stylesheet"><style>:root{--m:#001F3F;--e:#0074D9;--f:#f0f8ff}body{font-family:'Inter',sans-serif;background:var(--f);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.b-h{background-image:url('img/banner.png');background-size:cover;background-position:center;min-height:200px;width:100%}.m-c{background:#f7f9fb;border-left:4px solid var(--e)}</style></head><body oncontextmenu="return false">
    <div class="b-h"></div>
    <div class="container mx-auto p-4">
        <header class="mb-6 flex justify-between items-center border-b pb-4">
            <div class="flex items-center space-x-3">
                <a href="index_ficha.html" class="text-gray-500 hover:text-blue-600 transition">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"/></svg>
                </a>
                <h1 class="text-2xl font-black text-gray-800">Ficha: <span id="aNT" class="text-blue-600">...</span></h1>
            </div>
            <button onclick="logout()" class="py-1 px-4 bg-red-600 text-white rounded-lg text-sm font-bold shadow hover:bg-red-700 transition">Salir</button>
        </header>
        <div id="aDC" class="bg-white p-6 rounded-xl shadow-lg border border-gray-100">
            <p id="lM" class="text-center py-10 text-gray-400 italic">Validando seguridad...</p>
            <div id="aD" class="hidden">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-8 text-sm" id="infoAtleta">
                    <div><span class="font-semibold text-gray-500">Nombre:</span> <span id="nAp" class="block"></span></div>
                    <div><span class="font-semibold text-gray-500">Cédula:</span> <span id="cI" class="block"></span></div>
                    <div><span class="font-semibold text-gray-500">Teléfono:</span> <span id="tel" class="block"></span></div>
                    <div><span class="font-semibold text-gray-500">Nacimiento:</span> <span id="fNa" class="block"></span></div>
                    <div><span class="font-semibold text-gray-500">Edad:</span> <span id="eda" class="text-blue-700 font-bold block"></span></div>
                    <div><span class="font-semibold text-gray-500">Categoría:</span> <span id="cat" class="text-blue-600 font-bold block"></span></div>
                    <div><span class="font-semibold text-gray-500">Camiseta:</span> <span id="nCa" class="text-indigo-600 font-black text-xl block"></span></div>
                </div>
                <div class="grid grid-cols-2 lg:grid-cols-4 gap-4">
                    <div class="m-c p-4 rounded-lg"><p class="text-xs font-bold uppercase">Monto <span id="nomT"></span></p><p id="mPa" class="text-2xl font-black"></p></div>
                    <div class="m-c p-4 rounded-lg"><p class="text-xs font-bold uppercase">Último Pago</p><p id="uPa" class="text-sm font-bold mt-2"></p></div>
                    <div class="m-c p-4 rounded-lg"><p class="text-xs font-bold uppercase mb-2">Solvencia</p><span id="sSt" class="text-xs font-bold px-3 py-1 rounded-full"></span></div>
                    <div class="m-c p-4 rounded-lg"><p class="text-xs font-bold uppercase">IMC</p><p id="imc" class="text-2xl font-black"></p><span id="iSt" class="text-[10px] font-bold px-2 py-0.5 rounded uppercase"></span></div>
                    <div class="m-c p-4 rounded-lg"><p class="text-xs font-bold uppercase">Peso</p><p id="pes" class="text-2xl font-black"></p></div>
                    <div class="m-c p-4 rounded-lg"><p class="text-xs font-bold uppercase">Talla</p><p id="tal" class="text-2xl font-black"></p></div>
                    <div class="m-c p-4 rounded-lg bg-blue-50"><p class="text-xs text-blue-700 font-bold uppercase">Proyección</p><p id="tPr" class="text-2xl font-black text-blue-800"></p></div>
                </div>
            </div>
        </div>
    </div>

<script type="module">
// Bloqueo de Teclas Prohibidas
window.addEventListener('keydown', function(e) {
    if (e.keyCode == 123 || // F12
        (e.ctrlKey && e.shiftKey && (e.keyCode == 73 || e.keyCode == 74 || e.keyCode == 67)) || // Ctrl+Shift+I/J/C
        (e.ctrlKey && e.keyCode == 85) // Ctrl+U (Ver código fuente)
    ) {
        e.preventDefault();
        return false;
    }
});

import{initializeApp as _0x1}from"https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";import{getAuth as _0x2,onAuthStateChanged as _0x3,signOut as _0x4}from"https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";import{getFirestore as _0x5,doc as _0x6,getDoc as _0x7}from"https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";const _0x0=['\x63\x6c\x75\x62\x5f\x61\x74\x68\x6c\x65\x74\x65\x73','\x69\x6e\x64\x65\x78\x2e\x68\x74\x6d\x6c'];const _0xa=i=>document.getElementById(i);const _0xb=i=>{if(!i)return'--';const a=new Date(i),o=new Date();let s=o.getFullYear()-a.getFullYear();return(o.getMonth()<a.getMonth()||o.getMonth()===a.getMonth()&&o.getDate()<a.getDate())&&s--,s};const _0xc=i=>{const a=i(0),o=_0x1({apiKey:"AIzaSyB5RB7mm1j-0gjCNTUEJTkyEqLjyZ3C7ws",authDomain:"datacontrolvoley-ff556.firebaseapp.com",projectId:"datacontrolvoley-ff556",storageBucket:"datacontrolvoley-ff556.firebasestorage.app",messagingSenderId:"516409072606",appId:"1:516409072606:web:132538dba358a077d71b4f"}),s=_0x2(o),r=_0x5(o);_0x3(s,async(l)=>{const n=(new RegExp("[?&]id=([^&#]*)")).exec(window.location.search)?.[1]||"";if(l&&n){try{const h=await _0x7(_0x6(r,a,n));if(h.exists()){const c=h.data();_0xa('aNT').innerText=c.nombre+' '+c.apellido;_0xa('nAp').innerText=c.nombre+' '+c.apellido;_0xa('cI').innerText=c.cedulaIdentidad;_0xa('tel').innerText=c.telefono||'N/A';_0xa('fNa').innerText=c.fechaNacimiento||'N/A';_0xa('eda').innerText=_0xb(c.fechaNacimiento)+' años';_0xa('cat').innerText=c.categoria;_0xa('nCa').innerText=c.nroCamiseta;_0xa('nomT').innerText=c.frecuenciaPago==='quincenal'?'(Q)':'(M)';_0xa('mPa').innerText=parseFloat(c.montoPago||0).toFixed(2)+'$';_0xa('uPa').innerText=c.fechaUltimoPago||'Sin registros';const v=c.fechaUltimoPago?((new Date-new Date(c.fechaUltimoPago))/864e5<=(c.frecuenciaPago==='quincenal'?15:30)?{s:'Solvente',c:'bg-green-500 text-white'}:{s:'Insolvente',c:'bg-yellow-500 text-black'}):{s:'Insolvente',c:'bg-red-500 text-white'};_0xa('sSt').innerText=v.s;_0xa('sSt').className+=' '+v.c;_0xa('pes').innerText=(c.peso||0)+' kg';_0xa('tal').innerText=(c.talla||0)+' cm';const y=(c.peso>0&&(c.talla/100)>0)?(c.peso/Math.pow(c.talla/100,2)):0;_0xa('imc').innerText=y.toFixed(2);let g=0;['U9','U11'].includes(c.categoria)?g=15:c.categoria==='U13'?g=10:c.categoria==='U15'?g=6:c.categoria==='U19'&&(g=2);_0xa('tPr').innerText=c.talla>0?((c.talla+g)/100).toFixed(2)+' m':'N/A';_0xa('lM').classList.add('hidden');_0xa('aD').classList.remove('hidden')}else _0xa('lM').innerText="No encontrado"}catch(e){_0xa('lM').innerText="Error de red"}}else window.location.href=_0x0[1]});window.logout=()=>_0x4(s).then(()=>location.href=_0x0[1])};_0xc(i=>_0x0[i]);</script></body></html>
